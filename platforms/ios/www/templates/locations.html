<ion-view hide-nav-bar='true' hide-back-button='true'>
  <ng-include src="'templates/locations-header.html'"></ng-include>
  <ion-content class="has-header">
    <div id="search-box" class="bar bar-header bar-dark item-input-inset" ng-show="search.showSearch">
      <div class="item-input-wrapper">
        <i class="icon ion-ios7-search placeholder-icon"></i>
        <input type="search" placeholder="Search" ng-model="locations.name" autocorrect="off">
        <i class="clear-search icon ion-ios7-close-empty" ng-click="clearSearch()"></i>
      </div>
    </div>

    <ion-list class="locations-list">
      <div class="item item-divider">
        CURRENT SORT: {{$storage.sortLoc}}
      </div>
      <ion-item class="location-item" ng-repeat="loc in locations | orderBy:$storage.sortLoc" type="item-text-wrap" href="#/location/{{loc._id}}/details" style="background-image:url('{{loc.images.0.url}}');">
        <div class="location-title">
          <p>{{loc.name}}<br>(LocID: {{loc._id}})</p>
          <span class="distance-indicator" ng-show="$storage.showDistance"><span class="digit">{{distanceFromHere(loc)}}</span><span class="unit">mi</span></span>
        </div>
        <ion-option-button ng-click="share(item)">
          Favorite
        </ion-option-button>
        <ion-option-button ng-click="share(item)">
          Visted
        </ion-option-button>
        <ion-option-button ng-click="share(item)">
          Directions
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
